{% extends "base.html" %}
{% block content %}
<h4>{{ '新增司机' if not driver else '编辑司机' }}</h4>

<form method="post">
  <div class="mb-2">
    <label class="form-label">姓名</label>
    <input class="form-control" name="name" required value="{{ driver.name if driver else '' }}">
  </div>

  <div class="mb-2">
    <label class="form-label">驾照等级</label>
    <select class="form-select" name="license_level">
      {% for lv in ['A2','B2','C1','C2'] %}
        <option value="{{ lv }}" {% if driver and driver.license_level==lv %}selected{% endif %}>{{ lv }}</option>
      {% endfor %}
    </select>
  </div>

  <div class="mb-2">
    <label class="form-label">电话</label>
    <input class="form-control"
           name="phone"
           type="tel"
           inputmode="numeric"
           maxlength="11"
           pattern="^1\d{10}$"
           placeholder="13800000000"
           title="请输入 11 位手机号（1 开头，如 138xxxxxxxx）"
           required
           value="{{ driver.phone if driver else '' }}">
    <div class="form-text">格式示例：13800000000（11 位手机号，1 开头）</div>
  </div>

  <button class="btn btn-primary" type="submit">保存</button>
  <a class="btn btn-secondary" href="{{ url_for('master_drivers') }}">返回</a>
</form>
{% endblock %}

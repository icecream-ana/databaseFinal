<!doctype html>
<html lang="zh">
<head>
  <meta charset="utf-8" />
  <title>登录 - FleetDB</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<div class="container py-5">
  <h3>FleetDB 演示登录</h3>
  <p class="text-muted">课程演示用：选择角色与对应人员进入系统。</p>

  <form class="card p-3" method="post" action="{{ url_for('login_post') }}">
    <input type="hidden" name="next_url" value="{{ next_url }}"/>

    <div class="mb-3">
      <label class="form-label">选择角色</label>
      <select class="form-select" name="role" required>
        <option value="supervisor">主管</option>
        <option value="driver">司机</option>
      </select>
    </div>

    <div class="row">
      <div class="col-md-6">
        <label class="form-label">主管（仅主管角色有效）</label>
        <select class="form-select" name="supervisor_id">
          {% for s in supervisors %}
            <option value="{{ s.supervisor_id }}">{{ s.supervisor_id }} - {{ s.name }}（车队 {{ s.fleet_id }}）</option>
          {% endfor %}
        </select>
      </div>
      <div class="col-md-6">
        <label class="form-label">司机（仅司机角色有效）</label>
        <select class="form-select" name="driver_id">
          {% for d in drivers %}
            <option value="{{ d.driver_id }}">{{ d.driver_id }} - {{ d.name }}（车队 {{ d.fleet_id }}）</option>
          {% endfor %}
        </select>
      </div>
    </div>

    <button class="btn btn-primary mt-3" type="submit">进入系统</button>
  </form>
</div>
</body>
</html>
